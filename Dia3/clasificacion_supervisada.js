//Puntos creados cpara la clasificaci√≥n

var sand = 
    /* color: #d6b21c */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-6.424311402385936, 36.931648263836166]),
            {
              "class": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.428860428875193, 36.93720539092514]),
            {
              "class": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.43418193156074, 36.939332085438195]),
            {
              "class": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.476496460979686, 36.94893577298194]),
            {
              "class": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.468600037639842, 36.9403611098631]),
            {
              "class": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.466969254558787, 36.94523163691568]),
            {
              "class": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.465853455608592, 36.950513405872066]),
            {
              "class": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.41220927531074, 36.915523441726805]),
            {
              "class": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.406029465740428, 36.9083862617584]),
            {
              "class": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.421478989666209, 36.90317020793193]),
            {
              "class": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.419762375896678, 36.89575730749392]),
            {
              "class": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.500958207195506, 36.97304255279268]),
            {
              "class": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.490315201824412, 36.9736254102759]),
            {
              "class": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.411388796065475, 36.87319412938634]),
            {
              "class": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.416967790816452, 36.884694079496974]),
            {
              "class": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.421044748519089, 36.92721168203943]),
            {
              "class": 1,
              "system:index": "15"
            })]),
    greenhouse = 
    /* color: #7edeff */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-6.8685342833548475, 37.179436017661786]),
            {
              "class": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.865959362700551, 37.17485406148237]),
            {
              "class": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.869092182829945, 37.17417016359204]),
            {
              "class": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.869263844206898, 37.16845937455941]),
            {
              "class": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.8808939024954725, 37.17191325663281]),
            {
              "class": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.881237225249379, 37.17693991181369]),
            {
              "class": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.850724415495961, 37.18001729074554]),
            {
              "class": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.856432156279652, 37.18432541063791]),
            {
              "class": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.835489468291371, 37.17830765126017]),
            {
              "class": 2,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.832399563506215, 37.18159012489881]),
            {
              "class": 2,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.82527561636266, 37.17629022690198]),
            {
              "class": 2,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.817207531645863, 37.182821015739556]),
            {
              "class": 2,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.823559002593129, 37.18398350533765]),
            {
              "class": 2,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.8407680556326795, 37.18545368714732]),
            {
              "class": 2,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.845402912810414, 37.181077247795095]),
            {
              "class": 2,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.850466923430531, 37.17492245093093]),
            {
              "class": 2,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.865658955290883, 37.1657919120537]),
            {
              "class": 2,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.86673183889684, 37.22042189775294]),
            {
              "class": 2,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.837549404814808, 37.24092357380696]),
            {
              "class": 2,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.794119076445668, 37.24871274899403]),
            {
              "class": 2,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.766996578887074, 37.24679969283115]),
            {
              "class": 2,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.756696896269887, 37.2286232371075]),
            {
              "class": 2,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.744680599883168, 37.232040198608644]),
            {
              "class": 2,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.708631710723012, 37.24884939400432]),
            {
              "class": 2,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.641340450957387, 37.234090301182285]),
            {
              "class": 2,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.60855312795934, 37.22411261083041]),
            {
              "class": 2,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.538086132720082, 37.15525793511524]),
            {
              "class": 2,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.54263515920934, 37.15525793511524]),
            {
              "class": 2,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.486587719634144, 37.14923786067442]),
            {
              "class": 2,
              "system:index": "28"
            })]),
    agua = 
    /* color: #0406a8 */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-6.540126278471338, 36.94153303491078]),
            {
              "class": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.625956966947901, 36.98103645141047]),
            {
              "class": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.691874935697901, 37.01832641124576]),
            {
              "class": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.779765560697901, 37.04902205571702]),
            {
              "class": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.513347103666651, 36.89377240156024]),
            {
              "class": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.462535336088526, 36.86191536516293]),
            {
              "class": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.585444881986963, 36.94153303491078]),
            {
              "class": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.664409115385401, 36.98048793320744]),
            {
              "class": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.714534237455713, 36.98816682819879]),
            {
              "class": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.754359676908838, 37.008457319352516]),
            {
              "class": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.919841244291651, 37.22856151177983]),
            {
              "class": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.90439172036587, 37.242228439860874]),
            {
              "class": 3,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.920184567045557, 37.17332190284869]),
            {
              "class": 3,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.906451656889307, 37.16210496830894]),
            {
              "class": 3,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.89065881020962, 37.152801857442235]),
            {
              "class": 3,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.877955868315088, 37.127075534986616]),
            {
              "class": 3,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.232337429594385, 36.92918401460701]),
            {
              "class": 3,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.222037746977198, 36.92918401460701]),
            {
              "class": 3,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.240062191557276, 36.94756960544774]),
            {
              "class": 3,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.238517239164698, 36.956349217830095]),
            {
              "class": 3,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.237487270902979, 36.96307042451415]),
            {
              "class": 3,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.248473599027979, 36.94880429958883]),
            {
              "class": 3,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.242808773588526, 36.93947500381718]),
            {
              "class": 3,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.194571926664698, 36.9260278328556]),
            {
              "class": 3,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.18701882607876, 36.93974941117457]),
            {
              "class": 3,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.174830868315088, 36.966087916164874]),
            {
              "class": 3,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.16281457192837, 37.010513485851284]),
            {
              "class": 3,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.312331631254541, 36.9047545050894]),
            {
              "class": 3,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.350955441068995, 36.87111682220965]),
            {
              "class": 3,
              "system:index": "28"
            })]),
    arrozal = 
    /* color: #4cff0a */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-6.158523037504541, 37.05313213735147]),
            {
              "class": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.185302212309229, 37.08134868550283]),
            {
              "class": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.210021450590479, 37.054502115098806]),
            {
              "class": 4,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.245727016996729, 37.0528581388341]),
            {
              "class": 4,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.205558254789698, 37.09558994533588]),
            {
              "class": 4,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.222037746977198, 37.10407865392418]),
            {
              "class": 4,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.116637661527979, 37.078609674910886]),
            {
              "class": 4,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.149939968656885, 37.08956512352681]),
            {
              "class": 4,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.180839016508448, 37.110649904089414]),
            {
              "class": 4,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-5.991668179106104, 37.05669402805055]),
            {
              "class": 4,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.06342263467251, 37.08244426203186]),
            {
              "class": 4,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.06342263467251, 37.10900714499884]),
            {
              "class": 4,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.136207058500635, 37.11174505701942]),
            {
              "class": 4,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.219291164945948, 37.044363694122126]),
            {
              "class": 4,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.204184963774073, 37.12570686853103]),
            {
              "class": 4,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.172599270414698, 37.16949191726767]),
            {
              "class": 4,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.09088845498501, 37.167850435449715]),
            {
              "class": 4,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.069602444242823, 37.14541327744155]),
            {
              "class": 4,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.132773830961573, 37.185904774306]),
            {
              "class": 4,
              "system:index": "18"
            })]),
    pinares = 
    /* color: #193417 */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-6.383227779936182, 36.83196862819392]),
            {
              "class": 5,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.36880822427212, 36.81616631229877]),
            {
              "class": 5,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.360740139555323, 36.80860752945326]),
            {
              "class": 5,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.392669155668604, 36.826747354377744]),
            {
              "class": 5,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.370181515287745, 36.831556435321595]),
            {
              "class": 5,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.368464901518213, 36.84488287977894]),
            {
              "class": 5,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.314563229154932, 36.857520248396675]),
            {
              "class": 5,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.309070065092432, 36.847218203065026]),
            {
              "class": 5,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.29739709145962, 36.871528801828426]),
            {
              "class": 5,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.426968063040022, 37.20585402043623]),
            {
              "class": 5,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.440391018461573, 37.19903249236388]),
            {
              "class": 5,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.444682552885401, 37.18727235143013]),
            {
              "class": 5,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.407775356840479, 37.18303278173681]),
            {
              "class": 5,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.417216732572901, 37.17400580841719]),
            {
              "class": 5,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.443137600492823, 37.14691841709973]),
            {
              "class": 5,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.44794411904751, 37.15403321725867]),
            {
              "class": 5,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.57205529458462, 37.206825994977976]),
            {
              "class": 5,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.581839993070948, 37.20149368539053]),
            {
              "class": 5,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.573085262846338, 37.192742412273276]),
            {
              "class": 5,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.58801980264126, 37.19657121908941]),
            {
              "class": 5,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.298942043852198, 37.221863812590136]),
            {
              "class": 5,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.206588223051416, 37.235258616122934]),
            {
              "class": 5,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.22821755654751, 37.240998517795546]),
            {
              "class": 5,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.420772651446895, 37.228587514469794]),
            {
              "class": 5,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.407554725421504, 37.22462364326307]),
            {
              "class": 5,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.377170661700801, 37.24034121772329]),
            {
              "class": 5,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.38094721199377, 37.247310571496136]),
            {
              "class": 5,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.377170661700801, 37.22845083272421]),
            {
              "class": 5,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.391075233234004, 37.206715284027645]),
            {
              "class": 5,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.572177985919551, 37.232414502758374]),
            {
              "class": 5,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.5793877637515825, 37.23282452569722]),
            {
              "class": 5,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.605823615802364, 37.21737878858644]),
            {
              "class": 5,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.622303107989864, 37.21901919398304]),
            {
              "class": 5,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.410816291583614, 37.20001564506034]),
            {
              "class": 5,
              "system:index": "33"
            })]),
    eucaliptos = 
    /* color: #9bff63 */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-6.539519408954219, 37.11916296540519]),
            {
              "class": 6,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.5151434934268755, 37.12956510903294]),
            {
              "class": 6,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.509135345233516, 37.12737530285853]),
            {
              "class": 6,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.559432128680782, 37.11697285827738]),
            {
              "class": 6,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.579344848407344, 37.114919575306104]),
            {
              "class": 6,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.577284911883907, 37.103830885109986]),
            {
              "class": 6,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.492827514422969, 37.088358765570305]),
            {
              "class": 6,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.496089080585079, 37.05850097192892]),
            {
              "class": 6,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.514113525165157, 37.052884201990274]),
            {
              "class": 6,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.589816192401485, 37.0734313382674]),
            {
              "class": 6,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.5838080442081255, 37.08082694485729]),
            {
              "class": 6,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.598570922626094, 37.09232978787798]),
            {
              "class": 6,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.503213027728633, 37.17368987801536]),
            {
              "class": 6,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.547415832294063, 37.16869720414356]),
            {
              "class": 6,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.548016647113399, 37.17505767630035]),
            {
              "class": 6,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.559775451434688, 37.17594673190698]),
            {
              "class": 6,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.564152816546993, 37.17280079585163]),
            {
              "class": 6,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.562178710712032, 37.163225401887416]),
            {
              "class": 6,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.566641906512813, 37.1650721794379]),
            {
              "class": 6,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.556256393207149, 37.16110497201661]),
            {
              "class": 6,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.563809493793086, 37.18374261754315]),
            {
              "class": 6,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.561577895892696, 37.193862391550844]),
            {
              "class": 6,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.516001800311641, 37.185657273395904]),
            {
              "class": 6,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.520894149554805, 37.185383754102965]),
            {
              "class": 6,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.529133895648555, 37.206578562646364]),
            {
              "class": 6,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.532180885089473, 37.210201595558516]),
            {
              "class": 6,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.529348472369747, 37.204459349562704]),
            {
              "class": 6,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.521494964374141, 37.20172479313734]),
            {
              "class": 6,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.5181904828677935, 37.19755440384129]),
            {
              "class": 6,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.521194556964473, 37.19779369470368]),
            {
              "class": 6,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.536772826922969, 37.20298953779881]),
            {
              "class": 6,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([-6.5398627317081255, 37.20069930893521]),
            {
              "class": 6,
              "system:index": "31"
            })]),
    geometry = 
    /* color: #00ff00 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[-6.957250226587483, 37.30818674274427],
          [-6.957250226587483, 36.77985915516591],
          [-5.879216779321858, 36.77985915516591],
          [-5.879216779321858, 37.30818674274427]]], null, false);
    

//Aqu√≠ empieza la parte de c√≥digo


// Merge the hand-drawn features into a single FeatureCollection.
var newfc = sand.merge(greenhouse).merge(agua).merge(arrozal).merge(pinares).merge(eucaliptos);

//Creamos el stack de rasters con las bandas y con el ndvi estcional
var sentinel2_winter = ee.ImageCollection("COPERNICUS/S2_SR")
    .filterDate('2020-01-01', '2020-03-31')
    .map(function(image) {
  return image.select(['B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B8A', 'B11', 'B12']).addBands(image.normalizedDifference(['B8', 'B4']).rename(['ndvi']))});
    
var sentinel2_spring = ee.ImageCollection("COPERNICUS/S2_SR")
    .filterDate('2020-04-01', '2020-06-30')
    .map(function(image) {
  return image.select(['B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B8A', 'B11', 'B12']).addBands(image.normalizedDifference(['B8', 'B4']).rename(['ndvi']))});
    
var sentinel2_summer = ee.ImageCollection("COPERNICUS/S2_SR")
    .filterDate('2020-07-01', '2020-09-30')
    .map(function(image) {
  return image.select(['B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B8A', 'B11', 'B12']).addBands(image.normalizedDifference(['B8', 'B4']).rename(['ndvi']))});

var sentinel2_autumn = ee.ImageCollection("COPERNICUS/S2_SR")
    .filterDate('2020-10-01', '2020-12-31')
    .map(function(image) {
  return image.select(['B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B8A', 'B11', 'B12']).addBands(image.normalizedDifference(['B8', 'B4']).rename(['ndvi']))});
    
    
var ndvi_2020 = ee.Image.cat(sentinel2_winter.median(), sentinel2_spring.median(), sentinel2_summer.median(), sentinel2_autumn.median()).clip(geometry)

var vis = {min: 0, max: 0.8, palette: [
  'FFFFFF', 'CE7E45', 'FCD163', '66A000', '207401',
  '056201', '004C00', '023B01', '012E01', '011301'
]};

Map.addLayer(ndvi_2020, {min:0, max:3000, bands:['B8_2', 'B4_2', 'B3_2']}, 'Sentinel 2 composite');
Map.setCenter(-6.34497, 37.01918, 12);

// empezamos la clasificacion
// bandas a usar por el clasificador
/*var bands = ['B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B8A', 'B11', 'B12', 'ndvi', 
  'B2_1', 'B3_1', 'B4_1', 'B5_1', 'B6_1', 'B7_1', 'B8_1', 'B8A_1', 'B11_1', 'B12_1', 'ndvi_1',
  'B2_2', 'B3_2', 'B4_2', 'B5_2', 'B6_2', 'B7_2', 'B8_2', 'B8A_2', 'B11_2', 'B12_2', 'ndvi_2'];*/
  
var bands = ['ndvi', 'ndvi_1', 'ndvi_2', 'ndvi_3'];
  
//var bands4 = ['ndvi', 'ndvi_1', 'ndvi_2', 'ndvi_3']

// tomamos los valores de las bandas en los puntos
var training = ndvi_2020.select(bands).sampleRegions({
  collection: newfc, 
  properties: ['class'], 
  scale: 10
});

// Get a CART classifier and train it.
var classifier = ee.Classifier.smileCart().train({
  features: training, 
  classProperty: 'class', 
  inputProperties: bands
});

// Classify the image.
var classified = ndvi_2020.select(bands).classify(classifier);

//variable de visualizacion para las clasificaciones
var visParams = {min: 1, max: 6, palette: ['#d6b21c', '#7edeff', '#0406a8', '#4cff0a', '#193417', '#7bc25a']}

// Display the classification results.
Map.addLayer(classified, visParams, 'classification');

//Matrix de confusion

// Optionally, do some accuracy assessment.  Fist, add a column of
// random uniforms to the training dataset.
var withRandom = training.randomColumn('random');

// We want to reserve some of the data for testing, to avoid overfitting the model.
var split = 0.7;  // Roughly 70% training, 30% testing.
var trainingPartition = withRandom.filter(ee.Filter.lt('random', split));
var testingPartition = withRandom.filter(ee.Filter.gte('random', split));

// Trained with 70% of our data.
var trainedClassifier = ee.Classifier.smileCart().train({
  features: trainingPartition,
  classProperty: 'class',
  inputProperties: bands
});
var classified2 = ndvi_2020.classify(trainedClassifier);
Map.addLayer(classified2, visParams, 'class trained' );
// Classify the test FeatureCollection.
var test = testingPartition.classify(trainedClassifier);

// Print the confusion matrix.
var confusionMatrix = test.errorMatrix('class', 'classification');
print('Confusion matrix:', confusionMatrix);
print('Overall Accuracy:', confusionMatrix.accuracy());
print('Producers Accuracy:', confusionMatrix.producersAccuracy());
print('Consumers Accuracy:', confusionMatrix.consumersAccuracy());

Map.centerObject(geometry)